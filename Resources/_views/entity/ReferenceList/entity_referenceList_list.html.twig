{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}
{% extends 'TellawLeadsFactoryBundle::base.html.twig' %}
{% block body %}

    <hgroup id="main-title" class="thin">
        <h1>Administration des listes de références</h1>
    </hgroup>

    <div class="columns">

        <div class="eight-columns with-padding">

            <h3 class="thin underline">Liste de référence</h3>

                    <table id="sorting-advanced" class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Identifiant</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Actions</th>
                        </tr>
                        </thead>
                        <tbody>

                        {% for item in forms %}
                            <tr onclick="window.location.href='{{ path('_referenceList_edit', {'id': item.id}) }}'">
                                <td>{{ item.code }}</td>
                                <td>{{ item.name }}</td>
                                <td>{{ item.description }}</td>
                                <td style="text-align:center">
                                    <center>
                                    <button type="button" class="btns  blue  m-sml-btn " style="margin:0px 0px 0px 5px" onClick="window.location.href='{{ path('_referenceList_edit', {'id': item.id}) }}'">Edit</button>
                                    <button type="button" class="btns  pink  m-sml-btn " style="margin:0px 0px 0px 5px" onClick="window.location.href='{{ path('_referenceList_delete', {'id': item.id}) }}'">Delete</button>
                                    <button type="button" class="btns  green  m-sml-btn " style="margin:0px 0px 0px 5px">Preview</button>
                                    </center>
                                </td>
                            </tr>

                        {% else %}

                            <tr>
                                <td colspan="4">Aucun élément dans cette liste</td>

                            </tr>

                        {% endfor %}

                        </tbody>
                    </table>

        </div>

        <div class="three-columns with-padding">

            <h3 class="thin underline">Actions</h3>

            <p class="button-height">
                <a href="{{ path ('_referenceList_new') }}" class="button huge full-width green-gradient glossy">Créer une liste</a>
            </p>

        </div>

    </div>

{% endblock %}
{% block javascript %}
    <script>
        // Table sort - DataTables
        var table = $('#sorting-advanced');
        table.dataTable({

            'sPaginationType': 'full_numbers',
            'sDom': '<"dataTables_header"lfr>t<"dataTables_footer"ip>',
            'fnInitComplete': function( oSettings )
            {
                // Style length select
                table.closest('.dataTables_wrapper').find('.dataTables_length select').addClass('select blue-gradient glossy').styleSelect();
                tableStyled = true;
            }
        });
    </script>
{% endblock %}