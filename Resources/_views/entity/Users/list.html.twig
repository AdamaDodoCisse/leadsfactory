{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}
{% extends 'TellawLeadsFactoryBundle::base.html.twig' %}
{% block body %}
    <hgroup id="main-title" class="thin">
        <h1>Administration des utilisteurs</h1>
    </hgroup>

    <div class="columns">

        <div class="eight-columns with-padding">

            <h3 class="thin underline">Liste des utilisateurs</h3>


            <table id="sorting-advanced" class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th>Identifiant</th>
                    <th>Lastname</th>
                    <th>Firstname</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>

                {% for item in elements %}
                    <tr onclick="window.location.href='{{ path('_users_edit', {'id': item.id}) }}'">
                        <td>{{ item.id }}</td>
                        <td>{{ item.lastname }}</td>
                        <td>{{ item.firstname }}</td>
                        <td style="text-align:center">
                            <center>
                                <button type="button" class="btns  blue  m-sml-btn " style="margin:0px 0px 0px 5px" onClick="window.location.href='{{ path('_users_edit', {'id': item.id}) }}'">Editer</button>
                                <button type="button" class="btns  red  m-sml-btn " style="margin:0px 0px 0px 5px" onClick="window.location.href='{{ path('_users_delete', {'id': item.id}) }}'">Supprimer</button>
                            </center>
                        </td>
                    </tr>

                {% else %}

                    <tr>
                        <td colspan="4">Aucun élément dans cette liste</td>

                    </tr>

                {% endfor %}

                </tbody>
            </table>


        </div>

    </div>

{% endblock %}
{% block javascript %}
    <script>
        // Table sort - DataTables
        var table = $('#sorting-advanced');
        table.dataTable({

            'sPaginationType': 'full_numbers',
            'sDom': '<"dataTables_header"lfr>t<"dataTables_footer"ip>',
            'fnInitComplete': function( oSettings )
            {
                // Style length select
                table.closest('.dataTables_wrapper').find('.dataTables_length select').addClass('select blue-gradient glossy').styleSelect();
                tableStyled = true;
            }
        });
    </script>
{% endblock %}