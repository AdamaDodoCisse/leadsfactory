{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}
{% extends 'TellawLeadsFactoryThemeBundle::base.html.twig' %}
{% block body %}

    <hgroup id="main-title" class="thin">
        <h1>Administration des leads enregistrés</h1>
    </hgroup>

    <div class="columns">

        <div class="eight-columns with-padding">

            <h3 class="thin underline">Liste des leads</h3>


                    <table id="sorting-advanced" class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Identifiant</th>
                            <th>Lastname</th>
                            <th>Firstname</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                        </thead>
                        <tbody>

                        {% for item in elements %}
                            <tr onclick="window.location.href='{{ path('_leads_edit', {'id': item.id}) }}'">
                                <td>{{ item.id }}</td>
                                <td>{{ item.lastname }}</td>
                                <td>{{ item.firstname }}</td>
                                <td>{{ item.status }}</td>
                                <td style="text-align:center">
                                    <center>
                                    <button type="button" class="btns  blue  m-sml-btn " style="margin:0px 0px 0px 5px" onClick="window.location.href='{{ path('_leads_edit', {'id': item.id}) }}'">Edit</button>
                                    </center>
                                </td>
                            </tr>

                        {% else %}

                            <tr>
                                <td colspan="5">Aucun élément dans cette liste</td>

                            </tr>

                        {% endfor %}

                        </tbody>
                    </table>

        </div>


        <div class="three-columns with-padding">

            <h3 class="thin underline">Actions</h3>

            <p class="button-height">
                Explication des leads....
            </p>

        </div>
    </div>

{% endblock %}
{% block javascript %}
    <script>
        // Table sort - DataTables
        var table = $('#sorting-advanced');
        table.dataTable({

            'sPaginationType': 'full_numbers',
            'sDom': '<"dataTables_header"lfr>t<"dataTables_footer"ip>',
            'fnInitComplete': function( oSettings )
            {
                // Style length select
                table.closest('.dataTables_wrapper').find('.dataTables_length select').addClass('select blue-gradient glossy').styleSelect();
                tableStyled = true;
            }
        });
    </script>
{% endblock %}