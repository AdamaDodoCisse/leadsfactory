{# src/Acme/BlogBundle/Resources/views/Blog/index.html.twig #}
{% form_theme form 'TellawLeadsFactoryBundle:Form:fields.html.twig' %}

{% extends 'TellawLeadsFactoryBundle::base.html.twig' %}
{% block body %}
<div class="main_container">

    <div class="row-fluid">

        <div class="span8">

            <div class="box color_7">
                <div class="title">
                    <h4> <i class="icon-book"></i><span>{{ title }}</span> </h4>
                </div>
                <div class="content">

                    {{ form(form) }}

                </div>
            </div>

        </div>

        <div class="span4">

            <div class="box paint">

                <div class="title">
                    <h4> <i class="icon-book"></i><span>Actions</span> </h4>
                </div>

                <!-- End .title -->
                <div class="content">

                    <a href="javascript:openDialog();" style="color:#FFF">&raquo; Ajouter une valeur à la liste</a>

                </div>
                <!-- End .content -->
                <a class="btn change_color_outside"><i class="paint_bucket"></i></a></div>

        </div>

    </div>

    <div class="row-fluid">

        <div class="span12">

            <div class="box color_7">


                <div class="content">

                    <table id="stream_table" class="table table-striped table-bordered">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Value</th>
                            <th><center>Actions</center></th>
                        </tr>
                        </thead>
                        <tbody>

                        {% for item in elements %}
                            <tr>
                                <td>{{ item.name }}</td>
                                <td>{{ item.value }}</td>
                                <td style="text-align:center">
                                    <center>
                                        <button type="button" class="btns  pink  m-sml-btn " style="margin:0px 0px 0px 5px" onClick="window.location.href='{{ path('_referenceList_deleteElement', {'id': item.id , 'referenceListId': referenceListId}) }}'">Delete</button>
                                    </center>
                                </td>
                            </tr>

                        {% else %}

                            <tr>
                                <td colspan="4">Aucun élément dans cette liste</td>

                            </tr>

                        {% endfor %}

                        </tbody>
                    </table>

                </div>
            </div>

        </div>


</div>

    <div class="avgrund-popup stack modal" id="default-popup" >
        <div class="modal-header">
            <h3 id="myModalLabel">Experimental</h3>
        </div>
        <div class="modal-body">
           <form action="{{ path('_referenceList_addElement') }}" id="addElementToListForm" method="POST">
               <input type="hidden" name="referenceListId" value="{{ referenceListId }}"/>
               <table>
                   <tr>
                        <td>Nom</td>
                       <td><input type="text" name="name" style="border:1px solid #e0e0e0;width:250px;"/></td>
                   </tr>
                   <tr>
                       <td>Valeur</td>
                       <td><input type="text" name="value" style="border:1px solid #e0e0e0;width:250px;"/></td>
                   </tr>

               </table>

           </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary btn-success" onclick="javascript:document.getElementById('addElementToListForm').submit();">Enregistrer</button>&nbsp;
            <button class="btn btn-primary" onclick="javascript:closeDialog();">Close</button>
        </div>
    </div>
    <div class="avgrund-cover"></div>

    <script>
        function openDialog() {
            Avgrund.show( "#default-popup" );
        }
        function closeDialog() {
            Avgrund.hide();
        }
    </script>

{% endblock %}